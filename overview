1)      Install sudo:
        $ su -
        $ apt install sudo

1.1)    Disable SGX:
        $ sed -i 's/\(GRUB_CMDLINE_LINUX_DEFAULT="[^"]*\)"/\1 nosgx"/' /etc/default/grub

        Add following in /etc/default/grub:
        GRUB_GFXMODE=1920x1200
        GRUB_GFXPAYLOAD_LINUX=keep
        $ update-grub

2)      Add username to group 'sudo':
        $ usermod -a -G sudo <username>

2.1)    $ exit

> REBOOT


3)      Update Kernel and firmware:
        $ echo "deb http://deb.debian.org/debian trixie-backports main contrib non-free non-free-firmware" | sudo tee /etc/apt/sources.list.d/trixie-backports.list
        $ sudo apt update
        $ sudo apt install -t trixie-backports linux-image-amd64 linux-headers-amd64
        $ sudo apt install -t trixie-backports firmware-amd-graphics

3.1)    Install packages:
        $ sudo apt install  \
            build-essential \
            git             \
            libx11-dev      \
            libxft-dev      \
            libxinerama-dev

3.2)    Add VGA-Arbiter to group 'video':
        $ echo 'KERNEL=="vga_arbiter", GROUP="video", MODE="0660"' | sudo tee /etc/udev/rules.d/99-vga-arbiter.rules

4)      Install dwm:
        $ mkdir -p ~/repos && cd ~/repos
        $ git clone https://git.suckless.org/dwm
        $ cd dwm && sudo make install

5)      Install st:
        $ mkdir -p ~/repos && cd ~/repos
        $ git clone https://git.suckless.org/st
        $ cd st && sudo make install

6)      Install dmenu:
        $ mkdir -p ~/repos && cd ~/repos
        $ git clone https://git.suckless.org/dmenu
        $ cd dmenu && sudo make install

7)      Install slstatus:
        $ mkdir -p ~/repos && cd ~/repos
        $ git clone https://git.suckless.org/slstatus
        $ cd slstatus && sudo make install

7)      Install X:
        $ sudo apt install \
            xserver-xorg \
            x11-xserver-utils \
            x11-utils \
            xinit \
            libxcursor-dev \
            libxcb1-dev \
            libx11-xcb-dev \
            libxcb-res0-dev \
            xfonts-base \
            xfonts-75dpi \
            xfonts-100dpi \
            numlockx \
            xfonts-cyrillic \
            xserver-xorg-video-all

7.1)    Start dwm with startx:
        $ xinput list | grep -i "mouse"
        $ MOUSE_ID=<id>
        $ MOUSE_SPEED=-0.5
        $ printf "%s\n" "export SSH_AUTH_SOCK=$(gpgconf --list-dirs agent-ssh-socket)" "gpgconf --launch gpg-agent" "numlockx on" "slstatus &" "xinput set-prop $MOUSE_ID \"libinput Accel Speed\" $MOUSE_SPEED" "exec dwm 2> ~/.dwm.log" > ~/.xinitrc

8)      Install useful packages:
        $ sudo apt install \
            curl \
            wget \
            vim \
            unzip \
            pipewire \
            firmware-linux \
            acpi \
            aptitude \
            upower \
            libfuse2t64 \
            fuse \
            libnss3-dev \
            psmisc \
            libopengl0

8.1)    Install packages for vim plugins and config:
        $ sudo apt install \
            npm \
            bat \
            ripgrep \
            fzf \
            fd-find

9)      Install gpg and yubikey support:
        $ sudo apt install \
            gpg \
            pcscd \
            scdaemon \
            pinentry-gtk2 \
            pass
        $ mkdir -p ~/repos
        $ git clone https://github.com/AWieczorreck/dotfiles ~/repos/dotfiles
        $ cp -r ~/repos/dotfiles/.gnupg ~
        $ chmod 700 */.gnupg/ && chmod 700 ~/.gnupg/*
        $ echo "export PASSWORD_STORE_GPG_OPTS='--no-throw-keyids'" >> .bashrc
        $ printf "%s\n" "export GPG_TTY=$(tty)" "gpg-connect-agent updatestartuptty /bye > /dev/null" >> .bashrc

10)     Import public key from Yubikey:
        $ printf "fetch\nquit\n" | script -q -c "gpg --card-edit" /dev/null

11)     Trust current key:
        $ printf "trust\n5\nj\nquit\n" | script -q -c "gpg --key-edit <email>" /dev/null

12)     Install firefox-nightly:
        $ sudo install -d -m 0755 /etc/apt/keyrings
        $ wget -q https://packages.mozilla.org/apt/repo-signing-key.gpg -O- | sudo tee /etc/apt/keyrings/packages.mozilla.org.asc > /dev/null
        $ gpg -n -q --import --import-options import-show /etc/apt/keyrings/packages.mozilla.org.asc | awk '/pub/{getline; gsub(/^ +| +$/,""); print "\n"$0"\n"}'
        $ echo "deb [signed-by=/etc/apt/keyrings/packages.mozilla.org.asc] https://packages.mozilla.org/apt mozilla main" | sudo tee -a /etc/apt/sources.list.d/mozilla.list > /dev/null
        $ sudo apt update
        $ sudo apt install \
            firefox-nightly \
            firefox-nightly-l10n-de

13)     AMD graphics config:
        $ sudo sed -i '$i\ \ \ \ \ \ \ \ Option "TearFree" "true"' /usr/share/X11/xorg.conf.d/10-amdgpu.conf
        $ sudo sed -i '$i\ \ \ \ \ \ \ \ Option "SWCursor" "True"' /usr/share/X11/xorg.conf.d/10-amdgpu.conf

14)     Git config:
        $ git config --global user.name "$(gpg --with-colons -K | grep '^uid:' | cut -d: -f10 | sed 's/ *<.*>//')"
        $ git config --global user.email $(gpg --with-colons -K | grep '^uid:' | cut -d: -f10 | sed -n 's/.*<\([^>]*\)>.*/\1/p')
        $ git config --global user.signingkey $(gpg --with-colons -K | awk -F: '$1=="ssb" && $12 ~ /S/ {print $5; exit} $1=="sec"{p=$5} END{if(!NR || !p){} else if(!seen && !system("")) print p}')
        $ git config --global init.defaultBranch main

15)     Install bitmap font:
        $ curl -L -o uw-ttyp0.tar.gz "https://people.mpi-inf.mpg.de/~uwe/misc/uw-ttyp0/uw-ttyp0-2.1.tar.gz"
        $ tar xf uw-ttyp0-2.1.tar.gz && cd uw-ttyp0-2.1 && ./configure && make && sudo make install

15.1)   Allow bitmap fonts:
        $ cd /etc/fonts/conf.d && sudo rm -f 70-no-bitmaps.conf && sudo ln -s ../conf.avail/70-yes-bitmaps.conf
        $ fc-cache -fv

15.2)   Use bitmap font:
        $ cd ~/repos/st
        $ rm config.h
        $ sed -i '/*font/c\static char *font = "Ttyp0 OTB;pixelsize=18:style=Regular";' config.def.h
        $ sudo make clean install

16)     Start services:
        $ sudo systemctl enable upower.service
        $ sudo systemctl start upower.service

17)     Setup and install more stuff:
        $ sudo apt install power-profiles-daemon

$ su
    $ touch /etc/systemd/system/hotplug-monitor.service
    $ vim /etc/systemd/system/hotplug-monitor.service

    # maybe you need this also this two, or only this two?
    ($ touch /etc/systemd/system/multi-user.target.wants/hotplug-monitor.service)
    ($ vim /etc/systemd/system/multi-user.target.wants/hotplug-monitor.service)

        [Unit]
        Description=Monitor hotplug service

        [Service]
        Type=simple

        # your user and not as root
        User=user

        # hotplug script path
        ExecStart=/usr/local/bin/hotplug_monitor.sh

        [Install]
        WantedBy=multi-user.target
    $ touch /usr/local/bin/hotplug_monitor.sh
    $ vim /usr/local/bin/hotplug_monitor.sh

        #!/bin/bash

        USER_NAME=$(id -un)
        USER_ID=$(id -u)

        export DISPLAY"=:0"
        export XAUTHORITY="/home/${USER_NAME}/.Xauthority"
        export DBUS_SESSION_BUS_ADDRESS="unix:path=/run/user/${USER_ID}/bus"

        # change connection identifier if needed
        height_primary="1080"
        height_second="1200"
        width_primary="1920"
        width_second="1920"
        internal="eDP1"
        external="HDMI2"
        device="card0-HDMI-A-2"
        resolution_primary="${width_primary}x${height_primary}"
        resolution_second="${width_second}x${height_second}"

        if [ $(cat /sys/class/drm/${device}/status) == "connected" ]; then
            xrandr --output ${internal} --primary --mode ${resolution_primary} --pos 0x${height_second} --rotate normal --output ${external} --auto --mode ${resolution_second} --pos 0x0 --rotate normal
            /home/user/.xinitrc
        elif [ $(cat /sys/class/drm/${device}/status) == "disconnected" ]; then
            xrandr --output ${external} --off
            xrandr --output ${internal} --auto
        else
            exit
        fi
    $ touch /etc/udev/rules.d/95-monitor-hotplug.rules
    $ vim /etc/udev/rules.d/95-monitor-hotplug.rules

        ACTION=="change", KERNEL=="card0", SUBSYSTEM=="drm", RUN+="/usr/bin/systemctl start hotplug-monitor.service"
        ACTION=="add", KERNEL=="card0", SUBSYSTEM=="drm", RUN+="/usr/bin/systemctl start hotplug-monitor.service"

    $ exit

    $ sudo chown $USER:$USER /usr/local/bin/hotplug_monitor.sh
    $ sudo chmod +x /usr/local/bin/hotplug_monitor.sh
    $ sudo systemctl enable hotplug-monitor.service


$ su
    $ touch /etc/X11/Xsession.d/98wallpaper
    $ vim /etc/X11/Xsession.d/98wallpaper

        #!/bin/bash

        feh --bg-fill -z <PATH_TO_WALLPAPER_FOLDER>


$ su
    $ touch /etc/X11/Xsession.d/999inhibit_sleep
    $ vim /etc/X11/Xsession.d/999inhibit_sleep

        #!/bin/sh

        xset dpms 0 0 0 && xset s noblank && xset s off
