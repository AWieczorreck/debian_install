#apt install -y git
#exit
#git clone https://github.com/AWieczorreck/debian_install.git ~/repos/debian_install
#git remote set-url origin git@github.com:AWieczorreck/debian_install
#<START>
su -
USERNAME=""
read -p "username: " USERNAME
apt install -y sudo
sed -i 's/\(GRUB_CMDLINE_LINUX_DEFAULT="[^"]*\)"/\1 nosgx"/' /etc/default/grub
echo "GRUB_GFXMODE=1920x1200" >> /etc/default/grub
echo "GRUB_GFXPAYLOAD_LINUX=keep" >> /etc/default/grub
usermod -a -G sudo $USERNAME
exit
exit
sudo update-grub
echo "deb http://deb.debian.org/debian trixie-backports main contrib non-free non-free-firmware" | sudo tee /etc/apt/sources.list.d/trixie-backports.list
sudo apt update
sudo apt install -y -t trixie-backports linux-image-amd64 linux-headers-amd64 firmware-amd-graphics
sudo reboot
#>>> REBOOT <<<
sudo apt install -y build-essential libx11-dev libxft-dev libxinerama-dev
echo 'KERNEL=="vga_arbiter", GROUP="video", MODE="0660"' | sudo tee /etc/udev/rules.d/99-vga-arbiter.rules
sudo cp ~/repos/debian_install/tools/passmenu /usr/local/bin
sudo cp ~/repos/debian_install/tools/totpmenu /usr/local/bin
sudo apt install -y xserver-xorg x11-xserver-utils x11-utils xinit libxcursor-dev libxcb1-dev libx11-xcb-dev libxcb-res0-dev xfonts-base xfonts-75dpi xfonts-100dpi xfonts-cyrillic numlockx xserver-xorg-video-all xdotool xinput libgtk-3-dev libgcr-3-dev libwebkit2gtk-4.1-dev
sudo cp ~/repos/debian_install/tools/startdwm /usr/local/bin/
sudo chmod +x /usr/local/bin/startdwm
TOOL=dwm
git clone https://git.suckless.org/$TOOL ~/repos/$TOOL
cd ~/repos/$TOOL && rm -f config.h && patch -i ~/repos/debian_install/$TOOL/$(echo $TOOL)_patch.diff && sudo make install
TOOL=st
git clone https://git.suckless.org/$TOOL ~/repos/$TOOL
cd ~/repos/$TOOL && rm -f config.h && patch -i ~/repos/debian_install/$TOOL/$(echo $TOOL)_patch.diff && sudo make install
TOOL=surf
git clone https://git.suckless.org/$TOOL ~/repos/$TOOL
cd ~/repos/$TOOL && rm -f config.h && patch -i ~/repos/debian_install/$TOOL/$(echo $TOOL)_patch.diff && sudo make install
TOOL=dmenu
git clone https://git.suckless.org/$TOOL ~/repos/$TOOL
cd ~/repos/$TOOL && rm -f config.h && sudo make install
TOOL=slstatus
git clone https://git.suckless.org/$TOOL ~/repos/$TOOL
cd ~/repos/$TOOL && rm -f config.h && sudo make install
#xinput list | grep -i "mouse"
MOUSE_ID=10
MOUSE_SPEED=-0.85
printf "%s\n" "export SSH_AUTH_SOCK=\$(gpgconf --list-dirs agent-ssh-socket)" "gpgconf --launch gpg-agent" "dbus-update-activation-environment --systemd DISPLAY XAUTHORITY" "dunst &" "lxpolkit &" "numlockx on" "slstatus &" "xinput set-prop $MOUSE_ID \"libinput Accel Speed\" $MOUSE_SPEED" "xset s off -dpms" "startdwm" > ~/.xinitrc
sudo apt install -y curl wget vim unzip pipewire acpi aptitude upower libfuse2t64 fuse libnss3-dev psmisc libopengl0 mc thunar lxpolkit dunst
sudo apt install -y npm bat ripgrep fzf fd-find
sudo apt install -y gpg pcscd scdaemon pinentry-gtk2 pass yubikey-manager
git clone https://github.com/AWieczorreck/dotfiles ~/repos/dotfiles
cp -r ~/repos/dotfiles/.gnupg ~
chmod 700 ~/.gnupg/ && chmod 700 ~/.gnupg/*
echo "export PASSWORD_STORE_GPG_OPTS='--no-throw-keyids'" >> .bashrc
printf "%s\n" "export GPG_TTY=\$(tty)" "gpg-connect-agent updatestartuptty /bye > /dev/null" >> .bashrc
printf "fetch\nquit\n" | script -q -c "gpg --card-edit" /dev/null
EMAIL=""
read -p "gpg email: " EMAIL
printf "trust\n5\nj\nquit\n" | script -q -c "gpg --key-edit $EMAIL" /dev/null
git clone git@github.com:AWieczorreck/password-store ~/.password-store
sudo install -d -m 0755 /etc/apt/keyrings
wget -q https://packages.mozilla.org/apt/repo-signing-key.gpg -O- | sudo tee /etc/apt/keyrings/packages.mozilla.org.asc > /dev/null
gpg -n -q --import --import-options import-show /etc/apt/keyrings/packages.mozilla.org.asc | awk '/pub/{getline; gsub(/^ +| +$/,""); print "\n"$0"\n"}'
echo "deb [signed-by=/etc/apt/keyrings/packages.mozilla.org.asc] https://packages.mozilla.org/apt mozilla main" | sudo tee -a /etc/apt/sources.list.d/mozilla.list > /dev/null
sudo apt update
sudo apt install -y firefox-nightly firefox-nightly-l10n-de
curl -sSL https://codeberg.org/PassFF/passff-host/releases/download/latest/install_host_app.sh | bash -s -- firefox
sudo sed -i '$i\ \ \ \ \ \ \ \ Option "TearFree" "true"' /usr/share/X11/xorg.conf.d/10-amdgpu.conf
sudo sed -i '$i\ \ \ \ \ \ \ \ Option "SWCursor" "true"' /usr/share/X11/xorg.conf.d/10-amdgpu.conf
git config --global user.name "$(gpg --with-colons -K | grep '^uid:' | cut -d: -f10 | sed 's/ *<.*>//')"
git config --global user.email $(gpg --with-colons -K | grep '^uid:' | cut -d: -f10 | sed -n 's/.*<\([^>]*\)>.*/\1/p')
git config --global user.signingkey $(gpg --with-colons -K | awk -F: '$1=="ssb" && $12 ~ /S/ {print $5; exit} $1=="sec"{p=$5} END{if(!NR || !p){} else if(!seen && !system("")) print p}')
git config --global init.defaultBranch main
curl -L -o uw-ttyp0.tar.gz "https://people.mpi-inf.mpg.de/~uwe/misc/uw-ttyp0/uw-ttyp0-2.1.tar.gz"
tar xf uw-ttyp0.tar.gz && cd uw-ttyp0-2.1 && ./configure && make && sudo make install
cd /etc/fonts/conf.d && sudo rm -f 70-no-bitmaps*.conf && sudo ln -s ../conf.avail/70-yes-bitmaps.conf
fc-cache -fv
sudo systemctl enable upower.service
sudo systemctl start upower.service
sudo apt install -y power-profiles-daemon
<END>

21)     Mount more drives in fstab:
        UUID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx  <mount_point>  ext4  defaults,noatime,nofail  0  2

$ su
    $ touch /etc/systemd/system/hotplug-monitor.service
    $ vim /etc/systemd/system/hotplug-monitor.service

    # maybe you need this also this two, or only this two?
    ($ touch /etc/systemd/system/multi-user.target.wants/hotplug-monitor.service)
    ($ vim /etc/systemd/system/multi-user.target.wants/hotplug-monitor.service)

        [Unit]
        Description=Monitor hotplug service

        [Service]
        Type=simple

        # your user and not as root
        User=user

        # hotplug script path
        ExecStart=/usr/local/bin/hotplug_monitor.sh

        [Install]
        WantedBy=multi-user.target
    $ touch /usr/local/bin/hotplug_monitor.sh
    $ vim /usr/local/bin/hotplug_monitor.sh

        #!/bin/bash

        USER_NAME=$(id -un)
        USER_ID=$(id -u)

        export DISPLAY"=:0"
        export XAUTHORITY="/home/${USER_NAME}/.Xauthority"
        export DBUS_SESSION_BUS_ADDRESS="unix:path=/run/user/${USER_ID}/bus"

        # change connection identifier if needed
        height_primary="1080"
        height_second="1200"
        width_primary="1920"
        width_second="1920"
        internal="eDP1"
        external="HDMI2"
        device="card0-HDMI-A-2"
        resolution_primary="${width_primary}x${height_primary}"
        resolution_second="${width_second}x${height_second}"

        if [ $(cat /sys/class/drm/${device}/status) == "connected" ]; then
            xrandr --output ${internal} --primary --mode ${resolution_primary} --pos 0x${height_second} --rotate normal --output ${external} --auto --mode ${resolution_second} --pos 0x0 --rotate normal
            /home/user/.xinitrc
        elif [ $(cat /sys/class/drm/${device}/status) == "disconnected" ]; then
            xrandr --output ${external} --off
            xrandr --output ${internal} --auto
        else
            exit
        fi
    $ touch /etc/udev/rules.d/95-monitor-hotplug.rules
    $ vim /etc/udev/rules.d/95-monitor-hotplug.rules

        ACTION=="change", KERNEL=="card0", SUBSYSTEM=="drm", RUN+="/usr/bin/systemctl start hotplug-monitor.service"
        ACTION=="add", KERNEL=="card0", SUBSYSTEM=="drm", RUN+="/usr/bin/systemctl start hotplug-monitor.service"

    $ exit

    $ sudo chown $USER:$USER /usr/local/bin/hotplug_monitor.sh
    $ sudo chmod +x /usr/local/bin/hotplug_monitor.sh
    $ sudo systemctl enable hotplug-monitor.service


$ su
    $ touch /etc/X11/Xsession.d/98wallpaper
    $ vim /etc/X11/Xsession.d/98wallpaper

        #!/bin/bash

        feh --bg-fill -z <PATH_TO_WALLPAPER_FOLDER>


$ su
    $ touch /etc/X11/Xsession.d/999inhibit_sleep
    $ vim /etc/X11/Xsession.d/999inhibit_sleep

        #!/bin/sh

        xset dpms 0 0 0 && xset s noblank && xset s off
